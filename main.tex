\documentclass[12pt, a4paper, oneside]{memoir}
%%%%%%%%%%%%%%%% 引入 package %%%%%%%%%%%%%%%%
\usepackage[margin=3cm]{geometry}
\usepackage{amsmath,amsthm,amssymb} % 引入 AMS 數學環境
\usepackage{yhmath}			% math symbol
\usepackage{graphicx}		% 圖形插入用
\graphicspath{{images/}}	% 搜尋圖片目錄
\usepackage{wrapfig}		% 文繞圖
\usepackage{floatflt}		% 浮動 figure
\usepackage{float}			% 浮動環境
\usepackage{subfig}		  % subfigures
\usepackage{caption3}		% caption 增強
\usepackage{fontspec}		% 設定字體
\usepackage{type1cm}		% 設定fontsize
\usepackage{titlesec}		% 設定section等的字體
\usepackage{titling}		% 加強 title 功能
\usepackage{fancyhdr}		% 頁首頁尾
\usepackage{tabularx}		% 加強版 table
\usepackage{listings}		% 內嵌程式碼
\usepackage{indentfirst}	% 首行縮排
\usepackage{enumerate}		% 加強 enumerate
\usepackage{upquote}		% verbatim 中引號顯示
\usepackage{ulem}			  % 裝飾
\usepackage{enumitem}

% 控制空行，因為使用了 memoir 套件所以多一行
\DisemulatePackage{setspace}
\usepackage{setspace}
\onehalfspacing

\usepackage[square, comma, numbers, super, sort&compress]{natbib}
\usepackage[unicode=true, pdfborder={0 0 0}, bookmarksdepth=-1]{hyperref}
\usepackage[usenames, dvipsnames]{color}
\usepackage[many]{tcolorbox}
\usepackage{inconsolata}

\usepackage{tikz} % 繪圖用
\usetikzlibrary{calc,trees,positioning,arrows,chains,shapes.geometric,%
    decorations.pathreplacing,decorations.pathmorphing,shapes,%
    matrix,shapes.symbols}
\usepackage{forest}

\usepackage{xeCJK}  % xelatex 中文
\setCJKmainfont[BoldFont={* Bold}]{Noto Sans CJK TC}
\defaultCJKfontfeatures{AutoFakeBold=3,AutoFakeSlant=.4}
\XeTeXlinebreaklocale "zh"
\XeTeXlinebreakskip = 0pt plus 1pt
\setCJKsansfont[]{Noto Sans CJK TC}
\setCJKmonofont[]{Noto Sans Mono CJK TC}
\setmonofont{DejaVu Sans Mono}

\linespread{1.3}

%%%%%%%%%%%%%%%% 頁面設定 %%%%%%%%%%%%%%%%
\setlength{\headheight}{15pt}  % with titling
\setlength{\droptitle}{-1.5cm} % title 與上緣的間距
\parindent=24pt % 設定縮排的距離

\fancyhf{}
\fancyhead[L]{\rightmark}
\fancyhead[R]{\thepage}	
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}
\pagestyle{fancy}

%%%%%%%%%%%%%%%% chapter 樣式 %%%%%%%%%%%%%%%%
\usepackage{calc}
\makechapterstyle{combined}{
	\setlength{\midchapskip}{-60pt}
	\setlength{\afterchapskip}{2.5cm}
	\renewcommand*{\printchaptername}{\thispagestyle{fancy}}
	\renewcommand*{\chapnumfont}{
		\normalfont
		\sffamily
		\bfseries
		\fontsize{80}{0}
		\selectfont
	}
	\renewcommand*{\printchapternum}{
		\flushright
		\chapnumfont
		\textcolor[RGB]{66,175,225}{\thechapter}
	}
	\renewcommand*{\chaptitlefont}{
		\normalfont
		\sffamily
		\Huge
		\bfseries
	}
	\renewcommand*{\printchaptertitle}[1]{
		\raggedright
		\chaptitlefont
		\parbox[t]{\textwidth-3cm}{\raggedright##1}
	}
}
\chapterstyle{combined}
\tcbuselibrary{skins,raster}

%%%%%%%%%%%%%%%% custom environment %%%%%%%%%%%%%%%%
% color palette from four.lol
\definecolor{four_red}{HTML}{E1324D}
\definecolor{four_orange}{HTML}{f38927}
\definecolor{four_yellow}{HTML}{f6d03c}
\definecolor{four_green}{HTML}{249721}
\definecolor{four_blue}{HTML}{42afe1}
\definecolor{four_darkblue}{HTML}{1165b5}
\definecolor{four_purple}{HTML}{9739a2}

\newtcbtheorem[number within=section]{thm}{定理}{
	colback=white,colframe=four_red,fonttitle=\bfseries,
	enhanced,
	coltitle=white,
	attach boxed title to top left={xshift=2mm,yshift=-2mm,yshifttext=-1mm},
	boxed title style={colframe=four_red, colback=four_red},
}{th}

\newtcbtheorem[number within=section]{lem}{引理}{
	colback=white,colframe=four_orange,fonttitle=\bfseries,
	enhanced,
	coltitle=white,
	attach boxed title to top left={xshift=2mm,yshift=-2mm,yshifttext=-1mm},
	boxed title style={colframe=four_orange, colback=four_orange},
}{th}

\newtcbtheorem[number within=section]{dfn}{定義}{
	colback=white,colframe=four_green,fonttitle=\bfseries,
	enhanced,
	coltitle=white,
	attach boxed title to top left={xshift=2mm,yshift=-2mm,yshifttext=-1mm},
	boxed title style={colframe=four_green,colback=four_green},
}{th}

\newtcbtheorem[number within=section]{prbox}{習題}{
	colback=white,colframe=four_darkblue,fonttitle=\bfseries,
	enhanced,
	coltitle=white,
	attach boxed title to top left={xshift=2mm,yshift=-2mm,yshifttext=-1mm},
	boxed title style={colframe=four_darkblue,colback=four_darkblue},
}{th}

\newtcbtheorem[number within=section]{eericbox}{跟著蕭電這樣做}{
	colback=white,colframe=four_purple,fonttitle=\bfseries,
	enhanced,
	coltitle=white,
	attach boxed title to top left={xshift=2mm,yshift=-2mm,yshifttext=-1mm},
	boxed title style={colframe=four_purple,colback=four_purple},
}{th}

\newcommand{\theorem}[3][]{ \begin{thm}{#2}{#1} #3 \end{thm} }
\newcommand{\lemma}[2]{ \begin{lem}{#1}{} #2 \end{lem} }
\newcommand{\definition}[2]{ \begin{dfn}{#1}{} #2 \end{dfn} }
\newcommand{\eeric}[1]{ \begin{eericbox*}{}{} #1 \end{eericbox*} }
\newcommand{\problem}[2]{ \begin{prbox}{#1}{} #2 \end{prbox} }

\input{cpp_env}
\newcommand{\hint}[1]{
	\begin{tcolorbox}[lowerbox=ignored,skin=enhanced,interior style={left color=four_blue,right color=white}, colframe = white]
		#1
		\tcblower
	\end{tcolorbox}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}
	% title 還是壞的，先不要用
	% \maketitle % 製作title page
	% \tableofcontents % 目錄
	%%%%%%%%%%%%%%%% \include{filename} %%%%%%%%%%%%%%%%

	\include{Sample/Sample}
	% \include{DataStructure/Basic}
	% \include{DataStructure/Advanced}
	% \include{DataStructure/DisjointSets}
	% \include{DataStructure/Pbds}
	% \include{DataStructure/Extreme}
	% \include{String/Basic}
	% \include{String/Advanced}
	% \include{Graph/Basic}
	% \include{Graph/LCA}
	% \include{Graph/MST}
	% \include{Graph/ShortestPath}
	% \include{Math/NumberTheoryI}
	% \include{Math/CombinatoricsI}
	% \include{Math/NumberTheoryII}
	% \include{Misc/BasicAlgo}
	% \include{Misc/Sorting}
	% \include{Misc/DPOptimization}
	% \include{Misc/OfflineAlgo}
	% \include{Misc/SqrtDecomposition}

	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	% \begin{thebibliography}{99}
	% \bibitem[1]{ex}\verb|http://www.example.com/|
	% \end{thebibliography}
\end{document}
